<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title> #{taskController.buttonName} Tarefa</title>
        <link href="#{facesContext.externalContext.requestContextPath}/resources/css/style.css" rel="stylesheet" type="text/css" />
    </h:head>
    <h:body>
        <ul class="nav">
            <li><a href="/index.xhtml">Home</a></li>
            <li><a href="#">About Us</a></li>
            <li><a href="/register-task.xhtml">Cadastrar tarefa</a></li>
        </ul>
    <div id="content">

                <h:form id="form">
                    <p:panel header="#{taskController.buttonName} Tarefa" style="width:700px; margin-top: 50px;">
                        <h:panelGrid columns="3" cellpadding="5">
                            <h:outputLabel for="title" value="Título:"/>
                            <p:inputText id="title"
                                         value="#{taskController.task.title}"
                                         required="true"
                                         requiredMessage="Título é necessario"
                            />
                            <p:message id="m2" for="title" style="color:red"/>

                            <h:outputLabel for="description" value="Descrição:"/>
                            <p:inputTextarea id="description"
                                             value="#{taskController.task.description}"
                                             required="true"
                                             requiredMessage="Descrição é necessaria"
                            />
                            <p:message id="m3" for="description" style="color:red"/>

                            <h:outputLabel for="responsible" value="Responsável:"/>
                            <p:inputText id="responsible"
                                         value="#{taskController.task.responsible}"
                                         required="true"
                                         requiredMessage="Responsável é necessario"/>
                            <p:message id="m4" for="responsible" style="color:red"/>

                            <h:outputLabel for="priority" value="Prioridade:"/>
                            <h:selectOneMenu id="priority"
                                             value="#{taskController.task.priority}"
                                             style="width:250px;"
                                             required="true"
                                             requiredMessage="Prioridade é necessaria"
                            >
                                <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true"/>
                                <f:selectItem itemLabel="Alta" itemValue="1"/>
                                <f:selectItem itemLabel="Média" itemValue="2"/>
                                <f:selectItem itemLabel="Baixa" itemValue="3"/>
                            </h:selectOneMenu>
                            <p:message id="m5" for="priority" style="color:red"/>

                            <h:outputLabel for="deadline" value="Deadline:"/>
                            <p:inputText id="deadline"
                                         value="#{taskController.task.deadline}"
                                         required="true"
                                         requiredMessage="Data fora do formato dd/MM/yyyy">
                                <f:convertDateTime pattern="dd/MM/yyyy" for="deadline"/>
                            </p:inputText>
                            <p:message id="m6" for="deadline" style="color:red"/>
                        </h:panelGrid>

                        <h:commandButton value="#{taskController.buttonName}"
                                         action="#{taskController.insert}"
                        />
                        <a/>
                        <h:commandButton immediate="true" value="Cancelar" action="/index.xhtml"/>

                        <p:growl id="messages"/>
                    </p:panel>
                </h:form>
    </div>
    </h:body>
</html>